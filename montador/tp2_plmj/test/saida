READ M2
READ M3

MDC:
	LOAD RB M3
	LOAD RC M4
	COMP RB RC ; IF B == 0
	BEZ FIM
LOAD RA M2 ; DIVIDENDO
	LOAD RB M3 ; DIVISOR
	LOAD RC M4 ; AUX 0
	COMP RB RC
	BEZ L31 ;DIVISOR == 0
	BLZ L51
L61:
	COMP RA RC
	BEZ L41 ; RA == 0
	BLZ L71
L111:
	COMP RA RB
	BLZ L21 ; RA < RB ?
	SUB RA RB
	LOAD RC M5
	LOAD RD M0
	ADD RD RC ; QUOCIENTE ++
	STORE M0 RD
	JMP L111
L21:
	STORE M1 RA ; SALVA RESTO
	JMP L31
L41: 
	STORE M1 RB
L31:
	LOAD RC M6
	LOAD RD M7
	LOAD RA M5
	COMP RC RA
	BNZ L151
	BEZ L161
L151:
	COMP RD RA
	BEZ L81
	JMP L91
L161:
	COMP RD RA
	BNZ L81
L91:
	LOAD RC M6
	LOAD RA M5
	COMP RC RA
	BEZ L101
L111:
	JMP L100
L51:
	LOAD RD M5
	STORE M7 RD
	NEG RB
	JMP L61
L71:
	LOAD RD M5
	STORE M6 RD
	NEG RA
	JMP L111
L81:
	LOAD RA M0
	NEG RA
	STORE M0 RA
	JMP L91
L101:
	LOAD RB M1
	NEG RB
	STORE M1 RB
	JMP L111
L100:
	LOAD RB M3
	STORE M2 RB ; A = B
	LOAD RC M1
	STORE M3 RC ; B = RESTO(A,B)
	JMP MDC

FIM:
	WRITE M2
	HALT
	

M0: WORD 0 ; QUOCIENTE
M1: WORD 0 ; RESTO
M2: WORD 0 ; DIVIDENDO
M3: WORD 0 ; DIVISOR
M4: WORD 0 ; AUX 0
M5: WORD 1 ; AUX 1
M6: WORD 0 ; SINAL DIVIDENDO
M7: WORD 0 ; SINAL DIVISOR
	END

